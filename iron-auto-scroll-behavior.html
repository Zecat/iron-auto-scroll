<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-selector/iron-selectable.html">
<link rel="import" href="iron-smooth-scroll-behavior.html">

<!--

@demo demo/index.html
@hero hero.svg
-->

<script>
  /** @polymerBehavior Polymer.IronAutoScrollBehavior */
  Polymer.IronAutoScrollBehaviorImpl = {

    properties: {
      autoScrollDisabled: {
        type: Boolean,
        value: false
      },
      noScrollForInitialSelection: {
        type: Boolean,
        value: false
      },
      slientScrollForInitialSelection: {
        type: Boolean,
        value: false
      },
      selected: {
        observer: '_selectedChanged'
      },
    },

    _selectedChanged: function(newValue, oldValue) {
      // if it's the initial selection
      if (oldValue == undefined) {
        if (!this.noScrollForInitialSelection) {
          this.slientScrollForInitialSelection ? this.scroll(0, this.items[newValue].offsetTop) :
          this.smoothScroll(this.items[newValue].offsetTop, this.scrollDuration);
        }
      } else if (!this._autoScrollDisabled) {
        // TODO: use CSS scroll-behavior once supported.
        this.smoothScroll(this.items[newValue].offsetTop, this.scrollDuration);
      }
    }
  }

  /** @polymerBehavior */
  Polymer.IronAutoScrollBehavior = [
    Polymer.IronSelectableBehavior,
    Polymer.IronSmoothScrollBehavior,
    Polymer.IronAutoScrollBehaviorImpl
  ];

</script>